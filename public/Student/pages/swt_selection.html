<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8" />
	<title>Give Test</title>
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
	<meta content="" name="description" />
	<meta content="" name="author" />
    <!-- MDBOOTSTRAP-->
    <link rel="stylesheet" href="../../assets/css/mdbootstrap/mdb.css">
	<!-- ================== BEGIN BASE CSS STYLE ================== -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
	<link href="../../assets/plugins/jquery-ui/jquery-ui.min.css" rel="stylesheet" />
	<link href="../../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="../../assets/plugins/animate/animate.min.css" rel="stylesheet" />
	<link href="../../assets/css/default/style.min.css" rel="stylesheet" />
	<link href="../../assets/css/default/style-responsive.min.css" rel="stylesheet" />
	<link href="../../assets/css/default/theme/default.css" rel="stylesheet" />
	<!-- ================== END BASE CSS STYLE ================== -->
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- ================== BEGIN BASE JS ================== -->
	<script src="../../assets/plugins/pace/pace.min.js"></script>
    <!-- ================== END BASE JS ================== -->
    <style>
    #giveTestModal{
        margin-right: 0;
        padding-right: 0;
        float:right;
        width:500px;
    }
    </style>
</head>
<body>
	<script>
	

	</script>
	<!-- begin #page-loader -->
	<div id="page-loader" class="fade show"><span class="spinner"></span></div>
	<!-- end #page-loader -->
	
	<!-- begin #page-container -->
	<div id="page-container" class="fade page-sidebar-fixed page-header-fixed">
		<!-- begin #header -->
		<div id="header" class="header navbar-default">
			<!-- begin navbar-header -->
			<div class="navbar-header">
				<a  class="navbar-brand"><span ></span> <b>PE</b> Tests .</a>
				<button type="button" class="navbar-toggle" data-click="sidebar-toggled">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<!-- end navbar-header -->
			
			<!-- begin header-nav -->
			<ul class="navbar-nav navbar-right">
				<li>
					<form class="navbar-form">
						<div class="form-group">
							<input type="text" class="form-control" placeholder="Enter keyword" />
							<button type="submit" class="btn btn-search"><i class="fa fa-search"></i></button>
						</div>
					</form>
				</li>
				
				<li class="dropdown navbar-user">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						<div class="image image-icon bg-black text-grey-darker">
						<img src="../PE_Resources/paathshala_logo_512.png">
						</div>
						<span id="navbarNameHolder"></span>
					</a>
					<div class="dropdown-menu dropdown-menu-right">
						<a href="#" id="logoutButton" class="dropdown-item" style="cursor: pointer;" >Log Out</a>
					</div>
				</li>
			</ul>
			<!-- end header navigation right -->
		</div>
		<!-- end #header -->
		
		<!-- begin #sidebar -->
		<div id="sidebar" class="sidebar">
			<!-- begin sidebar scrollbar -->
			<div data-scrollbar="true" data-height="100%">
				<!-- begin sidebar user -->
				<ul class="nav">
					<li class="nav-profile">
						<a href="javascript:;" data-toggle="nav-profile">
							<div class="cover with-shadow"></div>
							<div class="info">
								<p id="sidebarNameHolder"></p>
								<small>Student</small>
							</div>
						</a>
					</li>

				
				</ul>
				<!-- end sidebar user -->
				<!-- begin sidebar nav -->
				<ul class="nav">
					<ul id="user_sidebar" class="nav">
					<li class="nav-header">Navigation</li>
					<li>
						<a href="./dashboard.html">
							<i class="fa fa-th-large"></i>
							<span>Home</span>
						</a>
					</li>
					
					<li class="has-sub">
						<a href="javascript:;">
							<i class="fa fa-graduation-cap" aria-hidden="true"></i>
							<span>Student Settings</span>
						</a>
						<ul class="sub-menu">
							<li><a href="./register_student.html">Register Student</a></li>
							<li><a href="./manage_student.html">Manage Students</a></li>
						</ul>
					</li>
                    <li class="has-sub active">
							<a href="javascript:;">
								<i class="fa fa-pencil" aria-hidden="true"></i>
								<span>Give Test</span>
							</a>
							<ul class="sub-menu">
								<li><a href="./fst_selection.html">Full Syllabus Test</a></li>
								<li><a href="./cwt_selection.html">Chapter Wise Test</a></li>
								<li class="active"><a href="#">Section Wise Test</a></li>
							</ul>
         			</li>
				</ul>
					<!-- menu 2-->
					<!-- begin sidebar minify button -->
					<li><a href="javascript:;" class="sidebar-minify-btn" data-click="sidebar-minify"><i class="fa fa-angle-double-left"></i></a></li>
					<!-- end sidebar minify button -->
				</ul>
				<!-- end sidebar nav -->
			</div>
			<!-- end sidebar scrollbar -->
		</div>
		<div class="sidebar-bg"></div>
		<!-- end #sidebar -->
		
		<!-- begin #content -->
		<div id="content" class="content">
			<!-- begin breadcrumb -->
			<ol class="breadcrumb pull-right">
				<li class="breadcrumb-item active"><a href="#">Give Section Wise Test</a></li>
			</ol>
			<!-- end breadcrumb -->
			<!-- begin page-header -->
			<h1 class="page-header">Chapter Wise Test</h1>
			<!-- end page-header -->
			
			<!-- begin panel -->
			<div class="panel panel-inverse">
				<div class="panel-heading">
					<div class="panel-heading-btn">
					</div>
					<h4 class="panel-title"></h4>
				</div>
				<div class="panel-body">
                    <div class="row" id="selection_panel">
                        <div class="col-6">
                            <label> Select Domain: </label>
                            <select id="domain_selectbox" onchange="domainChanged()" class="form-control">
                                <option value="na">Not Selected</option>  
                            </select>
                        </div>
                    </div>

				</div>
            </div>
            <!-- Full Height Modal Right -->
<div class="modal modal-full-height fade right" id="giveTestModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
aria-hidden="true">

<!-- Add class .modal-full-height and then add class .modal-right (or other classes from list above) to set a position to the modal -->
<div class="modal-dialog modal-full-height modal-right" role="document">


  <div class="modal-content">
    <div class="modal-header">
      <h4 class="modal-title w-100" id="modalTestTitle"></h4>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h4 id="modalDuration"> </h4>
      <h4 id="modalCorrectMarks"> </h4>
      <h4 id="modalWrongMarks"> </h4>
      <hr/>
    </div>
    <div class="modal-footer justify-content-center">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      <button type="button" class="btn btn-green">Start Test</button>
    </div>
  </div>
</div>
</div>
<!-- Full Height Modal Right -->
			<!-- end panel -->
		</div>
		<!-- end #content -->
		
		<!-- begin scroll to top btn -->
		<a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
		<!-- end scroll to top btn -->
	</div>
	<!-- end page container -->
	
	<!-- ================== BEGIN BASE JS ================== -->
	<script src="../../assets/plugins/jquery/jquery-3.3.1.min.js"></script>
	<script src="../../assets/plugins/jquery-ui/jquery-ui.min.js"></script>
	<script src="../../assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!--[if lt IE 9]>
		<script src="../../assets/crossbrowserjs/html5shiv.js"></script>
		<script src="../../assets/crossbrowserjs/respond.min.js"></script>
		<script src="../../../admin/template../../assets/crossbrowserjs/excanvas.min.js"></script>
	<![endif]-->
	<script src="../../assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="../../assets/plugins/js-cookie/js.cookie.js"></script>
	<script src="../../../admin/template../../assets/js/theme/default.min.js"></script>
	<script src="../../assets/js/apps.min.js"></script>
	<!-- ================== END BASE JS ================== -->
	
	<script>
	var pe_username;
    var pe_email;
	var syllabus;
	var domain_object;
	var user_access_token = localStorage.getItem("student_token");
	var domain_url = "https://photonecademy.com/tests"
    var user_sidebar = document.getElementById("user_sidebar");
	var student_packs;
	var domain_selectbox = document.getElementById("domain_selectbox")
    var selection_panel = document.getElementById("selection_panel");
	// All Nameplace holders

		// Sidebar Name Holder
		var sidebarNameHolder = document.getElementById("sidebarNameHolder");
		// Logout functionality
		var logout = document.getElementById("logoutButton");
		logout.addEventListener("click",()=>{
			localStorage.clear();
			document.location.href=`${domain_url}`;

		})
		//Navbar name holder
		var navNameHolder = document.getElementById("navbarNameHolder");
	console.log("access token:-"+user_access_token)
		if(user_access_token==null)
		{
			document.location.href=`${domain_url}`;

		}

		fetch(`${domain_url}/verifyStudent`,{
			headers:{
				method:"GET",
				authorization:user_access_token
			}
		}).then(response=>response.json()).then(data=>{
			console.log("is token verified? "+data.is_verified);
			if(data.is_verified==false)
			{
				document.location.href=`${domain_url}`;
			}
			if(data.is_verified==true)
			{
				console.log(data);
				var student = data.student;
				pe_username = student.studentID;
				pe_email = student.email;
				console.log("The Logged in user is :"+pe_username);
				console.log("The logged in users email id is :"+pe_email);
				sidebarNameHolder.innerHTML=pe_username;
				navNameHolder.innerHTML=pe_username;
                console.log("Student Packs Are - ");

                // Load full syllabus
                fetch(`${domain_url}/getFullSyllabus`,{
                    method:"GET",
                    headers:{
                        authorization:user_access_token
                    }
                }).then(response=> response.json()).then(s=>{
					console.log("Syllabus is ");
					console.log(s);
					syllabus = s.syllabus;
                })
            
				if(student.packs.includes("JEE_MAINS_PCM") || student.packs.includes("JEE_MAINS_P") || student.packs.includes("JEE_MAINS_C") || student.packs.includes("JEE_MAINS_M"))
				{
					domain_selectbox.innerHTML+=`
					<option value="JEE_MAINS"> JEE MAINS </option>
					`
				}
				if(student.packs.includes("JEE_ADVANCED_PCM") || student.packs.includes("JEE_ADVANCED_P") || student.packs.includes("JEE_ADVANCED_C") || student.packs.includes("JEE_ADVANCED_M"))
				{
					domain_selectbox.innerHTML+=`
					<option value="JEE_ADVANCED"> JEE ADVANCED </option>
					`
				}
				if(student.packs.includes("NEET_PCB") || student.packs.includes("NEET_P") || student.packs.includes("NEET_C") || student.packs.includes("NEET_B"))
				{
					domain_selectbox.innerHTML+=`
					<option value="NEET"> NEET </option>
					`
				}
				if(student.packs.includes("STATE_BOARD_PCM") || student.packs.includes("STATE_BOARD_PCB") || student.packs.includes("STATE_BOARD_PCMB") || student.packs.includes("STATE_BOARD_P") || student.packs.includes("STATE_BOARD_C") || student.packs.includes("STATE_BOARD_M") || student.packs.includes("STATE_BOARD_B"))
				{
					domain_selectbox.innerHTML+=`
					<option value="STATE_BOARD"> STATE BOARD </option>
					`
				}

			}
        })
		
		function domainChanged(){
			var domain = document.getElementById("domain_selectbox").value;
			if(document.getElementById("test_name_selectbox")!=null)
			{
			var test_name_selectbox = document.getElementById("test_name_selectbox");
			test_name_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
			}
			if(domain!="na")
			{
			domain_object = syllabus.filter((d)=>{return d.name == domain});
			if(document.getElementById("subject_selectbox")==null)
			{
				var subject_div = document.createElement('div');
				subject_div.setAttribute("class","col-6");
				subject_div.innerHTML=`
				<label> Select Subject: </label>
						<select id="subject_selectbox" class="form-control" onchange="subjectChanged()">
						<option value="na"> Not Specified </option>  
                </select>
                `
				
                selection_panel.appendChild(subject_div)
                subject_selectbox = document.getElementById("subject_selectbox");
                    fetch(`${domain_url}/verifyStudent`,{
                        headers:{
                            method:"GET",
                            authorization:user_access_token
                        }
                    }).then(response=>response.json()).then(data=>{
                        console.log("is token verified? "+data.is_verified);
                        if(data.is_verified==false)
                        {
                            document.location.href=`${domain_url}`;
                        }
                        if(data.is_verified==true)
                        {
                            console.log(data);
                            var student = data.student;
                            pe_username = student.studentID;
                            pe_email = student.email;
                            console.log("The Logged in user is :"+pe_username);
                            console.log("The logged in users email id is :"+pe_email);
                            sidebarNameHolder.innerHTML=pe_username;
                            navNameHolder.innerHTML=pe_username;
                            if(domain=="JEE_MAINS")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
                                if(student.packs.includes("JEE_MAINS_PCM"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    <option value="Chemistry"> Chemistry </option>
                                    <option value="Maths"> Maths </option>`
                                }
                            	else
								{
									if(student.packs.includes("JEE_MAINS_P"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Physics"> Physics </option>
										`
									}
									if(student.packs.includes("JEE_MAINS_C"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Chemistry </option>
										` 
									}
									if(student.packs.includes("JEE_MAINS_M"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Maths </option>
										` 
									}
								}
							}
                            if(domain=="JEE_ADVANCED")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`

                                if(student.packs.includes("JEE_ADVANACED_PCM"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    <option value="Chemistry"> Chemistry </option>
                                    <option value="Maths"> Maths </option>` 
                                }
                                else
                                {
                                if(student.packs.includes("JEE_ADVANCED_P"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    `
                                }
                                if(student.packs.includes("JEE_ADVANCED_C"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Chemistry"> Chemistry </option>
                                    ` 
                                }
                                if(student.packs.includes("JEE_ADVANCED_M"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Maths"> Maths </option>
                                    ` 
                                }
                                }
                            }
                            if(domain=="NEET")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
								if(student.packs.includes("NEET_PCB"))
								{
									subject_selectbox.innerHTML+=`
									<option value="Physics"> Physics </option>
									<option value="Chemistry"> Chemistry </option>
									<option value="Biology"> Biology </option>
                                    `
								}
								else
								{
                                if(student.packs.includes("NEET_P"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    `
                                }
                                if(student.packs.includes("NEET_C"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Chemistry"> Chemistry </option>
                                    ` 
                                }
                                if(student.packs.includes("NEET_B"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Biology"> Biology </option>
                                    ` 
								}
							}
							}
							if(domain=="STATE_BOARD")
							{
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
								if(student.packs.includes("STATE_BOARD_PCMB"))
								{
									subject_selectbox.innerHTML+=`
									<option value="Physics"> Physics </option>
									<option value="Chemistry"> Chemistry </option>
									<option value="Maths"> Maths </option>
									<option value="Biology"> Biology </option>
									`
								}
								else
								{
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_P"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Physics"> Physics </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_C"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Chemistry </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_M"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Maths"> Maths </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCB") || student_packs.includes("STATE_BOARD_B"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Biology"> Biology </option>
										`
									}
								}
							}
				
						}})
						
			
			
				/* End of exists if */
			}
			else
			{
				var subject_selectbox = document.getElementById("subject_selectbox");
                    fetch(`${domain_url}/verifyStudent`,{
                        headers:{
                            method:"GET",
                            authorization:user_access_token
                        }
                    }).then(response=>response.json()).then(data=>{
                        console.log("is token verified? "+data.is_verified);
                        if(data.is_verified==false)
                        {
                            document.location.href=`${domain_url}`;
                        }
                        if(data.is_verified==true)
                        {
                            console.log(data);
                            var student = data.student;
                            pe_username = student.studentID;
                            pe_email = student.email;
                            console.log("The Logged in user is :"+pe_username);
                            console.log("The logged in users email id is :"+pe_email);
                            sidebarNameHolder.innerHTML=pe_username;
                            navNameHolder.innerHTML=pe_username;
                            if(domain=="JEE_MAINS")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
                                if(student.packs.includes("JEE_MAINS_PCM"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    <option value="Chemistry"> Chemistry </option>
                                    <option value="Maths"> Maths </option>`
                                }
                            	else
								{
									if(student.packs.includes("JEE_MAINS_P"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Physics"> Physics </option>
										`
									}
									if(student.packs.includes("JEE_MAINS_C"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Chemistry </option>
										` 
									}
									if(student.packs.includes("JEE_MAINS_M"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Maths </option>
										` 
									}
								}
							}
                            if(domain=="JEE_ADVANCED")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`

                                if(student.packs.includes("JEE_ADVANACED_PCM"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    <option value="Chemistry"> Chemistry </option>
                                    <option value="Maths"> Maths </option>` 
                                }
                                else
                                {
                                if(student.packs.includes("JEE_ADVANCED_P"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    `
                                }
                                if(student.packs.includes("JEE_ADVANCED_C"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Chemistry"> Chemistry </option>
                                    ` 
                                }
                                if(student.packs.includes("JEE_ADVANCED_M"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Maths"> Maths </option>
                                    ` 
                                }
                                }
                            }
                            if(domain=="NEET")
                            {
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
								if(student.packs.includes("NEET_PCB"))
								{
									subject_selectbox.innerHTML+=`
									<option value="Physics"> Physics </option>
									<option value="Chemistry"> Chemistry </option>
									<option value="Biology"> Biology </option>
                                    `
								}
								else
								{
                                if(student.packs.includes("NEET_P"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Physics"> Physics </option>
                                    `
                                }
                                if(student.packs.includes("NEET_C"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Chemistry"> Chemistry </option>
                                    ` 
                                }
                                if(student.packs.includes("NEET_B"))
                                {
                                    subject_selectbox.innerHTML+=`
                                    <option value="Biology"> Biology </option>
                                    ` 
								}
							}
							}
							if(domain=="STATE_BOARD")
							{
								subject_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
								if(student.packs.includes("STATE_BOARD_PCMB"))
								{
									subject_selectbox.innerHTML+=`
									<option value="Physics"> Physics </option>
									<option value="Chemistry"> Chemistry </option>
									<option value="Maths"> Maths </option>
									<option value="Biology"> Biology </option>
									`
								}
								else
								{
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_P"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Physics"> Physics </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_C"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Chemistry"> Chemistry </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCM") || student_packs.includes("STATE_BOARD_M"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Maths"> Maths </option>
										`
									}
									if(student_packs.includes("STATE_BOARD_PCB") || student_packs.includes("STATE_BOARD_B"))
									{
										subject_selectbox.innerHTML+=`
										<option value="Biology"> Biology </option>
										`
									}
								}
							}
				
						}})
			}
		}
		}

		function subjectChanged()
		{
            var subject = document.getElementById("subject_selectbox").value;
            var domain = document.getElementById("domain_selectbox").value;

			if(subject!="na") // If subject is selected
			{
				if(document.getElementById("test_name_selectbox")==null)
				{
					var test_name_div = document.createElement("div");
					test_name_div.setAttribute("class","col-12");
					test_name_div.innerHTML=`
					<br>
					<label> Select Test : </label>
					<select class="form-control" id="test_name_selectbox">
					<option value="na"> Not Selected </option>
					</select>
					`
					
                    selection_panel = document.getElementById("selection_panel");
                    fetch(`${domain_url}/getSpecificSWT`,{
                        method:"POST",
                        headers:{
                            authorization:user_access_token,
                            'Content-type':'application/json'
                        },
                        body:JSON.stringify({domain:domain,subject:subject})
                    }).then(res=>res.json()).then(output=>{
                        swt_tests = output.swt_tests;
                        swt_tests.forEach(test=>{
                            var test_name_selectbox = document.getElementById("test_name_selectbox")
                            test_name_selectbox.innerHTML+=`
                            <option value="${test.test_name}"> ${test.test_name} </option>
                            `
                        })
                    })
					selection_panel.appendChild(test_name_div);
					var give_test_button = document.createElement('div');
						give_test_button.setAttribute('class','col-6');
						give_test_button.innerHTML=`
						<br>
						<br>
						<button class="btn btn-green" onclick="giveTest()"> Give Test </button> 
						`
						selection_panel.appendChild(give_test_button)
			}
			else
			{
				 test_name_selectbox = document.getElementById("test_name_selectbox");
				 test_name_selectbox.innerHTML=`<option value="na"> Not Selected </option>`
				 fetch(`${domain_url}/getSpecificSWT`,{
                        method:"POST",
                        headers:{
                            authorization:user_access_token,
                            'Content-type':'application/json'
                        },
                        body:JSON.stringify({domain:domain,subject:subject})
                    }).then(res=>res.json()).then(output=>{
                        swt_tests = output.swt_tests;
                        swt_tests.forEach(test=>{
                            var test_name_selectbox = document.getElementById("test_name_selectbox")
                            test_name_selectbox.innerHTML+=`
                            <option value="${test.test_name}"> ${test.test_name} </option>
                            `
                        })
                    })	
			}

			}
		}
        function giveTest()
        {
            test_name = document.getElementById("test_name_selectbox").value;
            modal_duration = document.getElementById("modalDuration");
            modal_correct_marks = document.getElementById("modalCorrectMarks");
            modal_wrong_marks = document.getElementById("modalWrongMarks");
            modal_title = document.getElementById("modalTestTitle");
            fetch(`${domain_url}/getTestBasicDetails`,{
                method:"POST",
                headers:{
                    authorization:user_access_token,
                    'Content-type':'application/json'
                },
                body:JSON.stringify({test_name:test_name})
            }).then(res=>res.json()).then(output=>{
                console.log(output);
                var test_duration =output.basic_details.duration;
                var correct_marks  = output.basic_details.correct_marks;
                var wrong_marks = output.basic_details.wrong_marks;
                modal_duration.innerHTML=`<i class="fa fa-hourglass" aria-hidden="true"> Duration : ${test_duration} Hrs</i>`    
                modal_correct_marks.innerHTML=`<i class="fa fa-check" aria-hidden="true"> Marks for Correct Answer : ${correct_marks}</i>`
                modal_wrong_marks.innerHTML=`<i class="fa fa-times" aria-hidden="true"> Marks for Correct Answer : ${wrong_marks}</i>`

;
            })
            if(test_name!="na")
            {
            modal_title.innerHTML=test_name
            $("#giveTestModal").modal('show');
            }
        }
		$(document).ready(function() {
			App.init();
		});
	</script>
</body>
</html>
